<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>亂數 - Math.random</h2>
    <h2>猜數字</h2>
    <p id="result"></p>


    <script>
        // 取亂數1-100之間
        // var rd =Math.random()*2;=>會回傳0,1
        // 所以亂數要去除小數後+1
        let rd = Math.floor(Math.random() * 100) + 1;
        console.log(rd);
        let min = 1;
        let max = 100;
        let count=0;
        let strMsg="";

        while(1) {

            var num = prompt(`猜數字${min}-${max}`);

            if (num == null) {

                alert("您按了取消，即將結束");
                break;

            } else if (num.trim() == "") {
                
                alert("不能輸入空白，請重新輸入");
                continue;
                
            }
             else if (isNaN(parseInt(num))) {

                alert("非數字，請重新輸入");
                continue;

            }

            num = parseInt(num);
            
            if (num > 100 || num <= 0) {
                
                alert("超出範圍(1-100), 請重新輸入");
                continue;
                
            }
            


            if (num == rd) {

                count++;//錯誤也會加次數=>所以寫在裡面

                alert(`${rd}=>恭喜你猜到了!總共猜了${count}次`);
                strMsg = strMsg + `第${count}次：${rd}=>恭喜你猜到了!總共猜了${count}次<br>`
                break;

            } else if (num > rd) {

                count++;

                if (num < max) {
                    max = num;
                }

                alert(`第${count}次：${num}=>太大了, 請重新輸入(提示:${min}-${max})`);
                strMsg = strMsg + `第${count}次, 太大了，提示(${min}-${max})<br>`

            } else if (num < rd) {

                count++;

                if (num > min) {
                    min = num;
                }

                alert(`第${count}次：${num}=>太小了, 請重新輸入(提示:${min}-${max})`);
                strMsg = strMsg + `第${count}次, 太小了，提示(${min}-${max})<br>`

            }
        }

        document.getElementById('result').innerHTML = strMsg;

    </script>
</body>

</html>